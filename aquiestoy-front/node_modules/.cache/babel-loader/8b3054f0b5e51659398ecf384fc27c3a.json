{"ast":null,"code":"import _classCallCheck from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/src/components/auth/signup/SignupContainer.jsx\";\nimport React, { Component } from 'react';\nimport toastr from 'toastr';\nimport axios from 'axios';\nimport SignupDisplay from './SignupDisplay';\n\nvar SignupContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignupContainer, _Component);\n\n  function SignupContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignupContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignupContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      signup: {\n        username: \"scuba\"\n      },\n      loading: false\n    };\n\n    _this.onChange = function (e) {\n      var field = e.target.name;\n      var value = e.target.value;\n      var signup = _this.state.signup;\n      signup[field] = value;\n\n      _this.setState({\n        signup: signup\n      });\n    };\n\n    _this.createUser = function (e) {\n      e.preventDefault();\n      var signup = _this.state.signup;\n\n      if (signup.password !== signup.password2) {\n        return toastr.error('Las contraseñas no coinciden!');\n      }\n\n      axios.post('http://localhost:3000/signup', signup).then(function (user) {\n        console.log(user);\n        toastr.success(\"Perfecto!\");\n\n        _this.setState({\n          loading: false\n        });\n\n        _this.props.history.push('/login');\n      }).catch(function (e) {\n        return toastr.error(\"Ya hay un usuario con ese nombre\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SignupContainer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var user = JSON.parse(localStorage.getItem('user'));\n      if (user) return this.props.history.push('/');\n      this.setState({\n        user: user\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(SignupDisplay, {\n        onChange: this.onChange,\n        onSubmit: this.createUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return SignupContainer;\n}(Component);\n\nexport default SignupContainer;","map":{"version":3,"sources":["/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/src/components/auth/signup/SignupContainer.jsx"],"names":["React","Component","toastr","axios","SignupDisplay","SignupContainer","state","signup","username","loading","onChange","e","field","target","name","value","setState","createUser","preventDefault","password","password2","error","post","then","user","console","log","success","props","history","push","catch","JSON","parse","localStorage","getItem"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;IAIMC,e;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAC;AAACC,QAAAA,QAAQ,EAAC;AAAV,OADD;AAENC,MAAAA,OAAO,EAAC;AAFF,K;;UAaVC,Q,GAAW,UAACC,CAAD,EAAO;AACd,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,IAAvB;AACA,UAAMC,KAAK,GAAGJ,CAAC,CAACE,MAAF,CAASE,KAAvB;AAFc,UAGPR,MAHO,GAGG,MAAKD,KAHR,CAGPC,MAHO;AAIdA,MAAAA,MAAM,CAACK,KAAD,CAAN,GAAgBG,KAAhB;;AACA,YAAKC,QAAL,CAAc;AAACT,QAAAA,MAAM,EAANA;AAAD,OAAd;AACH,K;;UAEDU,U,GAAa,UAACN,CAAD,EAAO;AAChBA,MAAAA,CAAC,CAACO,cAAF;AADgB,UAETX,MAFS,GAEC,MAAKD,KAFN,CAETC,MAFS;;AAGhB,UAAGA,MAAM,CAACY,QAAP,KAAoBZ,MAAM,CAACa,SAA9B,EAAyC;AACrC,eAAOlB,MAAM,CAACmB,KAAP,CAAa,+BAAb,CAAP;AACH;;AACDlB,MAAAA,KAAK,CAACmB,IAAN,CAAW,8BAAX,EAA2Cf,MAA3C,EACCgB,IADD,CACM,UAAAC,IAAI,EAAE;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAtB,QAAAA,MAAM,CAACyB,OAAP,CAAe,WAAf;;AACA,cAAKX,QAAL,CAAc;AAACP,UAAAA,OAAO,EAAC;AAAT,SAAd;;AACA,cAAKmB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AAEH,OAPD,EAQCC,KARD,CAQO,UAAApB,CAAC;AAAA,eAAET,MAAM,CAACmB,KAAP,CAAa,kCAAb,CAAF;AAAA,OARR;AASH,K;;;;;;;yCA/BmB;AAEhB,UAAMG,IAAI,GAAGQ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,UAAGX,IAAH,EAAS,OAAO,KAAKI,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,CAAP;AACT,WAAKd,QAAL,CAAc;AAACQ,QAAAA,IAAI,EAAJA;AAAD,OAAd;AAEH;;;6BA2BW;AACJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AACA,QAAA,QAAQ,EAAE,KAAKd,QADf;AAEA,QAAA,QAAQ,EAAE,KAAKO,UAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADJ;AAQH;;;;EAjDyBhB,S;;AAoD9B,eAAeI,eAAf","sourcesContent":["import React, {Component} from 'react'\nimport toastr from 'toastr'\nimport axios from 'axios'\nimport SignupDisplay from './SignupDisplay'\n\n\n\nclass SignupContainer extends Component{\n\n  state = {\n    signup:{username:\"scuba\"},\n    loading:false\n}\n\ncomponentWillMount(){\n         \n    const user = JSON.parse(localStorage.getItem('user'))\n    if(user) return this.props.history.push('/')\n    this.setState({user})\n   \n}\n\nonChange = (e) => {\n    const field = e.target.name\n    const value = e.target.value\n    const {signup} = this.state\n    signup[field] = value\n    this.setState({signup})\n}\n\ncreateUser = (e) => {\n    e.preventDefault()\n    const {signup} = this.state\n    if(signup.password !== signup.password2) {\n        return toastr.error('Las contraseñas no coinciden!')\n    }\n    axios.post('http://localhost:3000/signup', signup)\n    .then(user=>{\n        console.log(user)\n        toastr.success(\"Perfecto!\")\n        this.setState({loading:false})\n        this.props.history.push('/login')\n        \n    })\n    .catch(e=>toastr.error(\"Ya hay un usuario con ese nombre\"))\n}\n\n    render(){\n        return(\n            <div>\n              <SignupDisplay \n              onChange={this.onChange}\n              onSubmit={this.createUser}\n              />\n            </div>\n        )\n    }\n}\n\nexport default SignupContainer"]},"metadata":{},"sourceType":"module"}