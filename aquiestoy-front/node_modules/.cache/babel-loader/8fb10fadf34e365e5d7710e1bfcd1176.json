{"ast":null,"code":"import _classCallCheck from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/src/components/users/profileprivate/VprofileContainer.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport toastr from 'toastr';\nimport { uploadPic } from '../../../services/userService.js';\nimport VprofileDisplay from './VprofileDisplay';\nimport { getPub } from '../../../services/anunciosService'; // import Anuncios from '../../anuncios/Anuncios';\n\nvar VprofileContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VprofileContainer, _Component);\n\n  function VprofileContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, VprofileContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(VprofileContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      pubs: [],\n      user: {}\n    };\n\n    _this.getPubs = function () {\n      getPub().then(function (pubs) {\n        _this.setState({\n          pubs: pubs\n        }); //console.log(pubs)\n\n      }).catch(function (e) {\n        //return toastr.error('Algo salio mal')}\n        console.log(e);\n      });\n    };\n\n    _this.getPrivateInfo = function () {\n      axios.get('http://localhost:3000/private', {\n        headers: {\n          \"Authorization\": localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        console.log(res);\n      }).catch(function (e) {\n        return toastr.error(\"algo falló\", e.message);\n      });\n    };\n\n    _this.uploadPhoto = function () {\n      _this.refs.input.click();\n    };\n\n    _this.onChangeFile = function (e) {\n      console.log(e.target.files[0]);\n      uploadPic(e.target.files[0]).then(function (pic) {\n        return console.log(pic);\n      }).catch(function (e) {\n        return toastr.error('Error');\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(VprofileContainer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var user = JSON.parse(localStorage.getItem('user'));\n      if (!user) return this.props.history.push('/login');\n      this.setState({\n        user: user\n      });\n      var url = \"http://localhost:3000/\";\n      return axios.get(url + \"anuncios\", {\n        headers: {\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (event) {\n        _this2.setState({\n          pubs: event.data.anuncios\n        });\n      }).catch(function (error) {\n        return error;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(VprofileDisplay, {\n        onChangeFile: this.onChangeFile,\n        uploadPhoto: this.uploadPhoto,\n        getPrivateInfo: this.getPrivateInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return VprofileContainer;\n}(Component);\n\nexport default VprofileContainer;","map":{"version":3,"sources":["/home/joseph/Escritorio/AquiEstoy/aquiestoy-front/src/components/users/profileprivate/VprofileContainer.jsx"],"names":["React","Component","axios","toastr","uploadPic","VprofileDisplay","getPub","VprofileContainer","state","pubs","user","getPubs","then","setState","catch","e","console","log","getPrivateInfo","get","headers","localStorage","getItem","res","error","message","uploadPhoto","refs","input","click","onChangeFile","target","files","pic","JSON","parse","props","history","push","url","event","data","anuncios"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport axios from 'axios'\nimport toastr from 'toastr'\nimport {uploadPic} from '../../../services/userService.js'\nimport VprofileDisplay from './VprofileDisplay';\nimport {getPub} from '../../../services/anunciosService'\n// import Anuncios from '../../anuncios/Anuncios';\n\n\n\nclass VprofileContainer extends Component{\n\n    state = {\n        pubs:[],\n        user:{}\n    }\n\n    componentWillMount(){\n        const user = JSON.parse(localStorage.getItem('user'))\n        if(!user) return this.props.history.push('/login')\n        this.setState({user})\n\n        const url = \"http://localhost:3000/\"\n            return axios.get(url + \"anuncios\",{\n                headers:{\n                    'Authorization':localStorage.getItem('token')\n                }\n            })\n            .then(event=>{\n                this.setState({\n                    pubs: event.data.anuncios\n                })\n            })\n            .catch(error=>{\n                return error\n            })\n    }\n\n    getPubs = ()=>{\n        getPub()\n        .then(pubs=>{\n            this.setState({pubs})\n            //console.log(pubs)\n        })\n        .catch(e=>{\n            //return toastr.error('Algo salio mal')}\n            console.log(e)\n            })\n    }\n\n    getPrivateInfo = () => {\n        axios.get('http://localhost:3000/private', {\n            headers:{\n                \"Authorization\" : localStorage.getItem('token') \n            }\n        })\n        .then(res=>{\n            console.log(res)\n        })\n        .catch(e=>toastr.error(\"algo falló\", e.message))\n    }\n\n    uploadPhoto = () => {\n        this.refs.input.click()\n    }\n\n    onChangeFile = (e) => {\n        console.log(e.target.files[0])\n        uploadPic(e.target.files[0])\n        .then(pic=>console.log(pic))\n        .catch(e=>toastr.error('Error'))\n    }\n\n\nrender(){\n  return(\n      <div>\n        <VprofileDisplay\n         onChangeFile={this.onChangeFile}\n         uploadPhoto={this.uploadPhoto}\n         getPrivateInfo={this.getPrivateInfo}\n        />\n\n        {/* <Anuncios adds={this.state.pubs} /> */}\n        \n      </div>\n  )\n}\n}\n\nexport default VprofileContainer"]},"metadata":{},"sourceType":"module"}